## Context

There are multiple microservices at Hotstar that log all incoming requests. To keep a check on the health of these services, we have to monitor the number of successful and failed requests in real-time.

## Problem Statement

Your job is to design a system that aggregates these service logs every minute and then calculates the number of logs for a particular `HttpMethod` in that one minute window. 

While designing the system, ensure reliability, accuracy and latency of computation.

As a part of the design, we expect a high-level architecture diagram, low-level diagram that describes each component of the architecture in detail and a detailed documentation of your design choices. You are free to use any open-source framework or library that solves the problem. 

For bonus points, write a demo code to demonstrate your design.

## Helper Library

This helper code simulates logs being generated from the microservices. The rate at which the logs are generated depends on the number of servers and the traffic at a given time. For simplicity, this code emits logs with a random interval.

## Input to the system

Unbounded stream of logs generated by this code. The format of a log line is:
 <!-- <IP - Date - LogLevel - HttpMethod - HttpVersion - HttpResponseCode - TimeTaken> -->
```
49.80.133.141 - 2017-06-10T18:41:15+05:30 - WARN - PUT - HTTP/1.1 - 505 - 227
10.80.22.81 - 2017-06-10T18:42:15+05:30 - INFO - PUT - HTTP/1.1 - 505 - 680
133.12.80.241 - 2017-06-10T18:44:15+05:30 - ERROR - PUT - HTTP/1.1 - 505 - 30
```

## OUTPUT of your application
```
2017-06-10T18:40 GET-200 POST-456 PUT-345 DELETE-8
2017-06-10T18:41 GET-120 POST-356 PUT-122 DELETE-80
2017-06-10T18:42 GET-320 POST-156 PUT-822 DELETE-480
```

## To run the code
The code is pre-compiled to run on Mac OS. If you are on Mac OS, then use the `log-emitter-osx` binary. For any other OS, please build the binary using `go build -o log-emitter-<target-os>`